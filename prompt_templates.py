"""
AI ç­†è¨˜ç”Ÿæˆ Prompt æ¨¡æ¿é…ç½®
åŒ…å«å¤šç¨®å°ˆæ¥­çš„æ³•å¾‹ç­†è¨˜æ•´ç†æ ¼å¼
"""

# å°ˆæ¥­ Prompt æ¨¡æ¿
PROFESSIONAL_PROMPTS = {
    "ğŸ“‹ æ ¸å¿ƒæ¦‚å¿µç¸½æ•´ç†": """**ç›®æ¨™ï¼š** è«‹å°‡æˆ‘çš„åŸå§‹ç­†è¨˜å…§å®¹ï¼Œè½‰æ›ç‚ºä¸€å€‹é«˜åº¦çµæ§‹åŒ–ã€æ˜“æ–¼å¿«é€Ÿè¤‡ç¿’çš„æ ¸å¿ƒæ¦‚å¿µè€ƒè©¦ç­†è¨˜ã€‚

**è¼¸å‡ºæ ¼å¼è¦æ±‚ï¼š**

1. **ä¸»é¡Œæ¨™é¡Œ (Header)ï¼š** æ¸…æ¥šæ¨™ç¤ºè©²ç­†è¨˜çš„æ ¸å¿ƒæ³•è¦/æ¦‚å¿µ (ä¾‹å¦‚ï¼šåˆ‘æ³•ç¬¬ 271 æ¢æ®ºäººç½ª)ã€‚
2. **æ¶æ§‹åŒ–æ•´ç†ï¼š** æ¡ç”¨ä»¥ä¸‹çµæ§‹é€²è¡Œæ•´ç†ï¼š
   * **ä¸€ã€æ³•æ¢ä¾æ“šï¼š** å¯«å‡ºæ ¸å¿ƒæ³•æ¢åŠé …æ¬¡ã€‚
   * **äºŒã€æ§‹æˆè¦ä»¶åˆ†æï¼š** ç°¡æ½”åˆ—é»å¼ (Bullet Point) æ•´ç†å®¢è§€èˆ‡ä¸»è§€æ§‹æˆè¦ä»¶ã€‚
   * **ä¸‰ã€å­¸èªªèˆ‡å¯¦å‹™è¦‹è§£çˆ­è­° (Conflict)ï¼š** é‡å°æœ‰çˆ­è­°çš„é»ï¼Œæ•´ç†ç‚ºå°ç…§è¡¨æ ¼ã€‚
       * **è¡¨æ ¼æ¨™é¡Œï¼š** [çˆ­è­°ç„¦é»]
       * **è¡¨æ ¼æ¬„ä½ï¼š** | çˆ­è­°é» | å¯¦å‹™è¦‹è§£ (åˆ¤ä¾‹/æ±ºè­°) | é€šèªªè¦‹è§£ (å­¸èªª) | æˆ‘çš„æ¡ç´ (è«‹ç•™ç©ºï¼Œæ–¹ä¾¿æˆ‘æ‰‹å‹•å¡«å¯«) |
   * **å››ã€ç›¸é—œé‡è¦æ¦‚å¿µé€£çµï¼š** åˆ—å‡º 2-3 å€‹èˆ‡æœ¬ä¸»é¡Œç›¸é—œï¼Œä½†åœ¨ä¸åŒç« ç¯€çš„é‡è¦æ¦‚å¿µã€‚

**åŸå§‹ç­†è¨˜å…§å®¹ï¼š**
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ“ ç”³è«–é¡Œè«–è¿°æ¨¡çµ„": """**ç›®æ¨™ï¼š** è«‹å°‡æˆ‘çš„åŸå§‹ç­†è¨˜å…§å®¹ï¼Œè½‰æ›ç‚ºä¸€ä»½é‡å°è©²ä¸»é¡Œçš„ã€Œç”³è«–é¡Œç­”é¡Œæ­¥é©Ÿæ¨¡çµ„ã€ã€‚é€™å€‹æ¨¡çµ„å¿…é ˆå…·å‚™å®Œæ•´çš„æ³•å¾‹è«–è¿°é‚è¼¯ã€‚

**è¼¸å‡ºæ ¼å¼è¦æ±‚ï¼š**

1. **ä¸»é¡Œæ¨™é¡Œï¼š** æ¨™ç¤ºè©²ä¸»é¡Œæœ€é©åˆç”¨ä¾†å›ç­”çš„**å‡æƒ³è€ƒé¡Œé¡å‹** (ä¾‹å¦‚ï¼š[ä¸»é¡Œ] ä¹‹æ§‹æˆè¦ä»¶åˆ¤æ–·èˆ‡æ³•å¾‹æ•ˆæœ)ã€‚
2. **ç­”é¡Œæ­¥é©Ÿ (Step-by-Step Outline)ï¼š** æŒ‰ç…§ç”³è«–é¡Œçš„æ’°å¯«é †åºé€²è¡Œçµæ§‹åŒ–æ•´ç†ï¼š
   * **ä¸€ã€å‰è¨€/å•é¡Œæ„è­˜ï¼š** ç°¡è¿°çˆ­é»æˆ–æ³•æ¢åŸºç¤ã€‚
   * **äºŒã€ä¸»è¦è«–è¿° (Main Body)ï¼š** å¿…é ˆä»¥ **ã€Œæ¶µæ”ã€** çš„æ€è·¯å±•é–‹ã€‚
       * **2.1 æ³•è¦åŸºç¤ï¼š** (åˆ—é») ç›¸é—œæ³•æ¢åŠæ ¸å¿ƒå®šç¾©ã€‚
       * **2.2 åˆ¤æ–·éšå±¤ (æˆ–æª¢é©—æ¨™æº–)ï¼š** (åˆ†é») æ•´ç†ä¸åŒè¦‹è§£ï¼Œä¸¦ç°¡è¿°å…¶é‚è¼¯ã€‚
       * **2.3 çµè«–ï¼š** ç°¡è¦çš„æ³•å¾‹æ•ˆæœæˆ–è«–è¿°ç¸½çµã€‚
   * **ä¸‰ã€è£œå……èªªæ˜/å‚™è¨» (Tips)ï¼š** é™„è¨» 1-2 å€‹å¯ä»¥æé«˜åˆ†æ•¸çš„ã€Œé—œéµå­—ã€æˆ–ã€Œé‡è¦åˆ¤æ±ºå­—è™Ÿã€ã€‚

**åŸå§‹ç­†è¨˜å…§å®¹ï¼š**
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ” éŒ¯èª¤è§€å¿µæ¾„æ¸…": """**ç›®æ¨™ï¼š** æ“”ä»»ä¸€ä½åš´æ ¼çš„æ³•å­¸æ•™æˆï¼Œä»”ç´°æª¢è¦–æˆ‘çš„åŸå§‹ç­†è¨˜å…§å®¹ã€‚è«‹æ‰¾å‡ºå…§å®¹ä¸­å¯èƒ½å­˜åœ¨çš„ã€Œè§€å¿µæ¨¡ç³Šè™•ã€ã€ã€Œå®¹æ˜“æ··æ·†çš„æ¦‚å¿µã€æˆ–ã€Œè«–è¿°ä¸å¤ ç²¾ç¢ºçš„åœ°æ–¹ã€ï¼Œä¸¦å°‡å…¶è½‰åŒ–ç‚ºæ¸…æ™°ã€ç²¾ç¢ºçš„å°æ¯”ç­†è¨˜ã€‚

**è¼¸å‡ºæ ¼å¼è¦æ±‚ï¼š**

1. **ä¸»é¡Œæ¨™é¡Œï¼š** æ¨™è¨»ç‚ºã€Œ[ä¸»é¡Œ] æ˜“æ··æ·†æ¦‚å¿µé‡æ¸…ã€ã€‚
2. **å°ç…§æ¯”è¼ƒè¡¨æ ¼ï¼š** å¿…é ˆå‰µå»ºä¸€å€‹è¡¨æ ¼ï¼Œå°ˆé–€æ¯”è¼ƒ**è‡³å°‘å…©å€‹**ç›¸ä¼¼ä½†ä¸åŒçš„æ¦‚å¿µã€‚
   * **è¡¨æ ¼æ¨™é¡Œï¼š** [æ˜“æ··æ·†æ¦‚å¿µå°ç…§è¡¨]
   * **è¡¨æ ¼æ¬„ä½ï¼š** | æ¦‚å¿µ A (æˆ‘å®¹æ˜“æ··æ·†çš„) | æ¦‚å¿µ B (æ­£ç¢ºæˆ–å°ç…§çµ„) | å€åˆ¥æ ¸å¿ƒ (Core Distinction) | å¯¦å‹™/å­¸èªªä¾æ“š (Reference) |
   * **ç¯„ä¾‹ï¼š**
       * | æ¦‚å¿µ A | æ¦‚å¿µ B | å€åˆ¥æ ¸å¿ƒ | å¯¦å‹™/å­¸èªªä¾æ“š |
       * | æ’¤éŠ· (è¡Œæ”¿æ³•) | å»¢æ­¢ (è¡Œæ”¿æ³•) | ä½œç”¨æ–¼åˆæ³•/é•æ³• | è¡Œæ”¿ç¨‹åºæ³•ç¬¬ 117ã€123 æ¢ |
3. **é‡é»è­¦ç¤ºï¼š** ç”¨ç²—é«”åˆ—å‡º 3 å€‹ã€Œåœ¨è€ƒè©¦ä¸­å¿…é ˆé¿å…çš„éŒ¯èª¤è«–è¿°ã€ã€‚

**åŸå§‹ç­†è¨˜å…§å®¹ï¼š**
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ“ ç­†è¨˜æ•´ç†èˆ‡æ½¤é£¾": """**ç›®æ¨™ï¼š** è«‹ä»”ç´°é–±è®€ä¸¦è¾¨è­˜æˆ‘æä¾›çš„åŸå§‹ç­†è¨˜å…§å®¹ã€‚å°‡å…¶è½‰åŒ–ç‚ºä¸€ä»½**é‚è¼¯æ¸…æ™°ã€åˆ†é»æ¢åˆ—ã€é€šé †æ˜“è®€çš„é›»å­ç­†è¨˜**ã€‚

**è¼¸å‡ºæ ¼å¼è¦æ±‚ï¼š**

1. **ä¸»é¡Œæ¨™é¡Œ (Title)ï¼š** æ ¹æ“šå…§å®¹æ ¸å¿ƒè‡ªå‹•ç”Ÿæˆä¸€å€‹ç°¡æ½”çš„ä¸»é¡Œæ¨™é¡Œã€‚
2. **å±¤æ¬¡åŒ–åˆ†é»æ•´ç†ï¼š**
   * å…§å®¹å¿…é ˆä½¿ç”¨å¤šå±¤æ¬¡çš„åˆ†é»ç¬¦è™Ÿ (ä¾‹å¦‚ï¼š**ä¸€ã€** â†’ **(ä¸€)** â†’ **1.** â†’ **(1)**)ï¼Œä¾†é‡ç¾å…§å®¹çš„é‚è¼¯çµæ§‹ã€‚
   * å¦‚æœå…§å®¹æœ‰å› æœé—œä¿‚ã€æ­¥é©Ÿã€æˆ–å®šç¾©-ä¾‹å¤–çš„é—œä¿‚ï¼Œè«‹ç”¨é©ç•¶çš„æ¨™é¡Œ (å¦‚ï¼š**ã€Œå®šç¾©ã€**ã€**ã€Œè¦ä»¶ã€**ã€**ã€Œä¾‹å¤–æƒ…æ³ã€**) ä¾†å€åˆ†ã€‚
3. **æ–‡å­—æ½¤é£¾ï¼š** 
   * å°‡ä¸å®Œæ•´æˆ–ä¸é€šé †çš„æ–‡å­—ï¼Œè‡ªå‹•æ¢³ç†æˆå®Œæ•´ã€é€šé †ã€æ ¼å¼åŒ–çš„å…§å®¹ã€‚
   * è£œå……å¿…è¦çš„æ³•å¾‹è¡“èªå’Œæ¦‚å¿µï¼Œä½†ä¸é¡å¤–å»¶ä¼¸èªªæ˜ã€‚
   * ä½¿ç”¨é©ç•¶çš„æ¨™é»ç¬¦è™Ÿå’Œæ®µè½ï¼Œè®“å…§å®¹æ¸…æ™°æ˜“è®€ã€‚
4. **é‡ç¾é‡é»èˆ‡é—œéµå­—ï¼š** å°‡åŸå§‹ç­†è¨˜ä¸­ä¼¼ä¹è¢«åœˆé¸æˆ–å¼·èª¿çš„**é—œéµå­—**ä½¿ç”¨ **ç²—é«”** æ¨™è¨»ã€‚
5. **å…§å®¹å¿ å¯¦æ€§ï¼š** ä¿æŒå°åŸå§‹ç­†è¨˜å…§å®¹çš„**å¿ å¯¦æ€§**ï¼Œä¸åŠ å…¥é¡å¤–çš„å­¸èªªè©•è«–æˆ–è€ƒè©¦æŠ€å·§ï¼Œåƒ…å°èªå¥é€²è¡Œæ½¤é£¾ï¼Œä½¿å…¶ç¬¦åˆæ¨™æº–æ›¸é¢èªã€‚

**åŸå§‹ç­†è¨˜å…§å®¹ï¼š**
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ¯ ä¸»é¡Œå¼æ·±åº¦åˆ†æ": """**ç›®æ¨™ï¼š** è«‹å°‡æˆ‘çš„ç­†è¨˜å…§å®¹ï¼Œè½‰æ›ç‚ºä¸€ä»½**æ³•å­¸ç”³è«–é¡Œå°ˆç”¨çš„æ·±åº¦åˆ†æç­†è¨˜**ã€‚é€™ä»½ç­†è¨˜å¿…é ˆæŒ‡å°æˆ‘åœ¨é‡åˆ°ç›¸é—œè€ƒé¡Œæ™‚ï¼Œæ‡‰å¦‚ä½•æ€è€ƒã€åˆ¤æ–·èˆ‡è«–è¿°ã€‚

**è¼¸å‡ºæ ¼å¼è¦æ±‚ï¼š**

1. **ä¸»é¡Œæ¨™é¡Œï¼š** æ¨™è¨»ç‚ºã€Œæ‡‰è©¦ä¸»é¡Œï¼š**[ä¸»é¡Œåç¨±]** æ·±åº¦åˆ†æèˆ‡åˆ¤æ–·æµç¨‹ã€ã€‚
2. **è§£é¡Œåˆ¤æ–·æµç¨‹ (Flowchart/Steps)ï¼š** æ•´ç†å‡ºä¸€å€‹æ¸…æ™°çš„**åˆ¤æ–·æµç¨‹**ï¼Œä½¿ç”¨ç·¨è™Ÿæ­¥é©Ÿ (Step 1, Step 2...) èªªæ˜è§£é¡Œæ™‚æ‡‰ä¾åºæª¢é©—å“ªäº›æ§‹æˆè¦ä»¶æˆ–æ³•å¾‹åŸå‰‡ã€‚
3. **çˆ­é»èˆ‡æ ¸å¿ƒåˆ¤æ±º (Key Conflicts)ï¼š**
   * **ä¸€ã€æ ¸å¿ƒçˆ­è­°é»ï¼š** ç°¡æ½”åˆ—é»å¼æ­¸ç´è©²ä¸»é¡Œæœ€å…·çˆ­è­°çš„ 1-2 å€‹æ ¸å¿ƒå•é¡Œã€‚
   * **äºŒã€é—œéµå­—èˆ‡åˆ¤æ±ºå­—è™Ÿï¼š** åˆ—è¡¨æ•´ç†è©²çˆ­è­°ä¸­**æœ€é‡è¦**çš„å¯¦å‹™è¦‹è§£ï¼ˆå¦‚ï¼šé‡è¦åˆ¤ä¾‹/æ±ºè­°/æ†²æ³•æ³•åº­åˆ¤æ±ºï¼‰èˆ‡å…¶**æ ¸å¿ƒç†ç”±**ã€‚
4. **é«”ç³»åœ–/æ¶æ§‹é è¦½ï¼š** åœ¨ç­†è¨˜é–‹é ­æˆ–çµå°¾ï¼Œç”¨ç°¡çŸ­çš„æ¨¹ç‹€çµæ§‹ (ä¾‹å¦‚ï¼šä½¿ç”¨ `-` å’Œ `>` ç¬¦è™Ÿ) å‘ˆç¾è©²æ¦‚å¿µåœ¨æ•´å€‹æ³•å­¸é«”ç³»ä¸­çš„ä½ç½®ã€‚

**åŸå§‹ç­†è¨˜å…§å®¹ï¼š**
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",
}

# ç²¾é¸å¯¦ç”¨ Promptï¼ˆä¿ç•™é«˜é »ä½¿ç”¨æ ¼å¼ï¼‰
ESSENTIAL_PROMPTS = {
    "ğŸ“‹ ç²¾ç°¡ç‰ˆ": """è«‹ç”¨æœ€ç²¾ç°¡çš„æ–¹å¼æ•´ç†ï¼Œåªä¿ç•™æ ¸å¿ƒè¦é»ã€æ³•æ¢ç·¨è™Ÿå’Œé—œéµå­—ï¼Œé©åˆå¿«é€Ÿè¤‡ç¿’ã€‚

è¦æ±‚ï¼š
1. æ¯å€‹é‡é»ç”¨ä¸€å¥è©±èªªæ˜
2. ç¸½å­—æ•¸æ§åˆ¶åœ¨åŸæ–‡çš„ 30% ä»¥å…§
3. ä½¿ç”¨æ¢åˆ—å¼å‘ˆç¾
4. æ¨™è¨»é‡è¦æ³•æ¢ç·¨è™Ÿ

åŸå§‹å…§å®¹ï¼š
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ¯ è€ƒé»å°å‘": """è«‹èšç„¦è€ƒè©¦é‡é»ã€å¸¸è¦‹é™·é˜±ã€ç­”é¡ŒæŠ€å·§ï¼Œå¹«åŠ©æˆ‘åœ¨è€ƒè©¦ä¸­å¾—åˆ†ã€‚

è¦æ±‚ï¼š
1. **é«˜é »è€ƒé»ï¼š** æ¨™è¨»æ­·å¹´è€ƒé¡Œè¶¨å‹¢å’Œé«˜é »è€ƒé»
2. **å¸¸è¦‹é™·é˜±ï¼š** åˆ—å‡ºè€ƒè©¦ä¸­å®¹æ˜“çŠ¯çš„éŒ¯èª¤
3. **ç­”é¡ŒæŠ€å·§ï¼š** æä¾›å¯¦ç”¨çš„ç­”é¡Œç­–ç•¥å’Œé—œéµå­—
4. **è¨˜æ†¶æç¤ºï¼š** ç°¡çŸ­çš„è¨˜æ†¶å£è¨£æˆ–è¯æƒ³

åŸå§‹å…§å®¹ï¼š
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "ğŸ’¡ æ¡ˆä¾‹åˆ†æ": """è«‹ä»¥æ¡ˆä¾‹æ–¹å¼èªªæ˜ï¼ŒåŒ…å«äº‹å¯¦ã€çˆ­é»ã€æ³•å¾‹é©ç”¨ã€ä¸‰æ®µè«–æ³•æ¶æ§‹ã€‚

è¦æ±‚ï¼š
1. **æ¡ˆä¾‹äº‹å¯¦ï¼š** ç°¡è¿°æ¡ˆä¾‹äº‹å¯¦ï¼ˆå¦‚æœåŸæ–‡æ²’æœ‰ï¼Œè«‹æ ¹æ“šæ³•å¾‹æ¦‚å¿µè¨­è¨ˆä¸€å€‹ç°¡å–®æ¡ˆä¾‹ï¼‰
2. **çˆ­é»æ•´ç†ï¼š** åˆ—å‡ºä¸»è¦çˆ­é»
3. **æ³•å¾‹é©ç”¨ï¼š** èªªæ˜é©ç”¨çš„æ³•æ¢å’ŒåŸå‰‡
4. **ä¸‰æ®µè«–æ³•ï¼š** å¤§å‰æï¼ˆæ³•è¦ï¼‰â†’ å°å‰æï¼ˆäº‹å¯¦ï¼‰â†’ çµè«–ï¼ˆæ¶µæ”ï¼‰
5. **çµè«–ï¼š** æœ€çµ‚æ³•å¾‹æ•ˆæœ

åŸå§‹å…§å®¹ï¼š
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",

    "âš¡ å£è¨£è¨˜æ†¶ç‰ˆ": """è«‹ç‚ºé€™å€‹æ³•å¾‹æ¦‚å¿µç”Ÿæˆæ˜“æ–¼è¨˜æ†¶çš„å£è¨£ã€è«§éŸ³æˆ–åœ–åƒè¯æƒ³ï¼Œå¹«åŠ©å¿«é€Ÿè¨˜æ†¶ã€‚

è¦æ±‚ï¼š
1. **è¨˜æ†¶å£è¨£ï¼š** ç”Ÿæˆæœ—æœ—ä¸Šå£çš„å£è¨£ï¼ˆä¾‹å¦‚ï¼šã€Œæ¯”ä¾‹åŸå‰‡ä¸‰éšæ®µï¼šé©ç•¶ã€å¿…è¦ã€åˆæ¯”ä¾‹ã€ï¼‰
2. **è«§éŸ³è¯æƒ³ï¼š** ä½¿ç”¨è«§éŸ³å¹«åŠ©è¨˜æ†¶ï¼ˆä¾‹å¦‚ï¼šã€Œæ’¤éŠ·é•æ³•ï¼Œå»¢æ­¢åˆæ³•ã€ï¼‰
3. **æ•¸å­—è¨˜æ†¶ï¼š** å¦‚æœæœ‰å¤šå€‹è¦ä»¶ï¼Œç”¨æ•¸å­—æ­¸ç´ï¼ˆä¾‹å¦‚ï¼šã€Œä¾µæ¬Šè¡Œç‚ºå››è¦ä»¶ã€ï¼‰
4. **åœ–åƒè¯æƒ³ï¼š** æä¾›ç°¡å–®çš„è¦–è¦ºåŒ–è¯æƒ³
5. **é—œéµå­—æå–ï¼š** æ¯å€‹é‡é»æå– 2-3 å€‹é—œéµå­—

åŸå§‹å…§å®¹ï¼š
{content}

åªè¼¸å‡ºç­†è¨˜å…§å®¹ï¼Œä¸è¦æœ‰é–‹å ´ç™½ã€çµå°¾ç¥ç¦æˆ–é¼“å‹µçš„è©±ã€‚ç”¨ç¹é«”ä¸­æ–‡ã€‚""",
}

def get_all_style_options(user_id: str = None, style_manager = None):
    """å–å¾—æ‰€æœ‰é¢¨æ ¼é¸é …ï¼ˆå°ˆæ¥­ç‰ˆ + ç²¾é¸ç‰ˆ + ä½¿ç”¨è€…è‡ªè¨‚ + è‡ªè¨‚ï¼‰
    
    Args:
        user_id: ä½¿ç”¨è€… IDï¼ˆç”¨æ–¼è¼‰å…¥å€‹äººè‡ªè¨‚é¢¨æ ¼ï¼‰
        style_manager: CustomStyleManager å¯¦ä¾‹
        
    Returns:
        é¢¨æ ¼åç¨± -> é¢¨æ ¼æè¿°çš„å­—å…¸
    """
    options = {}
    options.update(PROFESSIONAL_PROMPTS)
    options.update(ESSENTIAL_PROMPTS)
    
    # è¼‰å…¥ä½¿ç”¨è€…è‡ªè¨‚é¢¨æ ¼
    if user_id and style_manager:
        try:
            custom_styles = style_manager.load_user_styles(user_id)
            for name, desc in custom_styles.items():
                options[f"â­ {name}"] = desc
        except Exception as e:
            print(f"âŒ è¼‰å…¥è‡ªè¨‚é¢¨æ ¼å¤±æ•—: {e}")
    
    options["âœï¸ è‡ªè¨‚é¢¨æ ¼"] = "è‡ªè¡Œè¼¸å…¥æƒ³è¦çš„ç­†è¨˜é¢¨æ ¼"
    return options

def get_style_instruction(style_name: str, custom_instruction: str = "", 
                          user_id: str = None, style_manager = None) -> str:
    """å–å¾—é¢¨æ ¼æŒ‡ç¤º
    
    Args:
        style_name: é¢¨æ ¼åç¨±
        custom_instruction: è‡ªè¨‚é¢¨æ ¼æŒ‡ç¤º
        user_id: ä½¿ç”¨è€… ID
        style_manager: CustomStyleManager å¯¦ä¾‹
        
    Returns:
        é¢¨æ ¼æŒ‡ç¤ºæ–‡å­—
    """
    if style_name == "âœï¸ è‡ªè¨‚é¢¨æ ¼":
        return custom_instruction
    
    # æª¢æŸ¥æ˜¯å¦ç‚ºä½¿ç”¨è€…è‡ªè¨‚é¢¨æ ¼ï¼ˆä»¥ â­ é–‹é ­ï¼‰
    if style_name.startswith("â­ ") and user_id and style_manager:
        actual_name = style_name[2:]  # ç§»é™¤ "â­ " å‰ç¶´
        custom_styles = style_manager.load_user_styles(user_id)
        if actual_name in custom_styles:
            return custom_styles[actual_name]
    
    # å…ˆæª¢æŸ¥å°ˆæ¥­ç‰ˆ
    if style_name in PROFESSIONAL_PROMPTS:
        return PROFESSIONAL_PROMPTS[style_name]
    
    # å†æª¢æŸ¥ç²¾é¸ç‰ˆ
    if style_name in ESSENTIAL_PROMPTS:
        return ESSENTIAL_PROMPTS[style_name]
    
    # é è¨­è¿”å›ç²¾ç°¡ç‰ˆ
    return ESSENTIAL_PROMPTS["ğŸ“‹ ç²¾ç°¡ç‰ˆ"]
